<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SyncAsynccode</title>
</head>
<body>
    
    <script>
          //Synchronous Code: Executes line by line. Each line of code waits for the previous one to finish before executing.

 /*         
function show(){
    console.log("It takes too much");
}
*/
/*
          console.log("Step-1 start");
          let r=show();//if it takes time it will not allow to next step
          console.log("Step-3 other task");
          console.log("End")

          console.log("----Async code------")
        */
          //Asynchronous Code: Allows the program to continue executing other tasks while waiting for a task to complete.

       //   console.log("Step-start")
       //   setTimeout(show,5000);
        //  console.log("Step-3 other task");

          //Callback function:
/*A callback function is a function passed into another function as an argument, which is then invoked inside
       the outer function to complete some action.*/
   

      // const callback=()=>{}
//Argument or parameter: is a variable which is inside the function parenthesis.
/*    
function sayHello(callback)
       {
            callback();
       }

       sayHello(()=>{
          alert("This is callback function")
       })
*/

/*
       function sayBye(n,callback)
       {
           console.log(n);
            callback();
       }

       sayBye("pune",()=>{
          alert("This is callback function")
       })

*/
     
    </script>



<script>
    /*
      function sayBye(callback)
       {
            const data="original data"
            callback(data);
       }

       sayBye((n)=>{
        console.log(n)
          console.log(`This is callback function ${n}`);
       })
       */
</script>


<script>

/*
        function fetchData(callback)
        {
            setTimeout(()=>{
                const data='received data';
               ;
            },2000)
        }

        function handleData(data){
            console.log(data);
        }

        fetchData(handleData);

*/

/*
        function addData(callback){

            setTimeout(()=>{
                const d1=4,d2=5;
              
                callback(d1,d2);
            },2000)
        }


        addData((d1,d2)=>{
            let s=d1+d2;
            console.log("addition"+s)
        })
        */
</script>

<script>
    //Promises and Chaining
//A Promise is an object representing the eventual completion or failure of an asynchronous operation.

/*
      const fetchData=  new Promise((resolve,reject)=>{

                setTimeout(()=>{
                    const data='recived data from promise';
                    resolve(data);
                },2000)
        })

        fetchData.then((data)=>{
            console.log(data);
        }

        ).catch((error)=>console.log('error in fetching data'));
        */

        /*

   const fetchData=    new Promise((res,rej)=>{

            setTimeout(()=>{
                const data="fetch data from backend";
                res(data);
            },2000)
       })


       fetchData.then((d)=>{
            console.log(d);
            return 'more data';
       }

       ).then((d)=>{
            console.log(d);
       }).catch(error=>console.log('error msg'+error));
*/

/*

    const fetchData=new Promise((res,rej)=>{

        setTimeout(()=>{
            rej('error in fetching');
        },2000)
    })

    fetchData.then(()=>{
        console.log("resolve the issude")
    }).catch(error=>{console.log('error:'+error)})

    */
</script>



<script>

/*
     function checkNumber(number){

           return new Promise((resolve,reject)=>{

                if(number>10)
                {
                    resolve('The number is greater than 10')
                }
                else{
                    reject('The number is not greater than 10')
                }
           })
     }

     checkNumber(15)
     .then((msg)=>{
            console.log(`Resolved: ${msg}`)
     }).catch((error)=>{
        console.log(`rejected: ${error}`)
     })


     checkNumber(5)
     .then((msg)=>{
            console.log(`Resolved: ${msg}`)
     }).catch((error)=>{
        console.log(`rejected: ${error}`)
     })

*/
</script>


<script>
    const fetchData = new Promise((resolve, reject) => {
    setTimeout(() => {
       //resolve('sample data') // Throwing an error
       throw new Error('unexpected error');
    }, 2000);
});

fetchData
    .then(data => {
        console.log('Received:', data);
    })
    .catch(error => {
        console.error('Error:', error.message); // Handles the error
    });

</script>


<script>
     
        // Function that returns a promise with a possibility of rejection
function fetchData1(shouldReject) {
    return new Promise((resolve, reject) => {
        setTimeout(() => {
            if (shouldReject) {
                reject(new Error("Data fetch failed!"));
            } else {
                resolve("Data fetched successfully!");
            }
        }, 2000);
    });
}

// Async function using await to handle the promise
async function getData(shouldReject) {
    try {
        console.log("Fetching data...");
        const data = await fetchData(shouldReject); // Wait until the promise is resolved or rejected
        console.log(data); // Log the resolved value of the promise
    } catch (error) {
        // Handle the rejected promise
        console.error("An error occurred:", error.message);
    } finally {
        // Code that will run regardless of the error
        console.log("Fetch operation complete.");
    }
}

// Call getData with shouldReject set to true to simulate a rejection
getData(true);

// Call getData with shouldReject set to false to simulate a successful fetch
getData(false);
</script>

















</body>
</html>